{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\deniz\\\\OneDrive\\\\Desktop\\\\projects\\\\buyuk_olcek_midterm\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatBubble({\n  msg\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bubble \" + (msg.from === 'user' ? 'user' : 'bot'),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text\",\n      children: msg.text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 5\n  }, this);\n}\n_c = ChatBubble;\nexport default function App() {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [text, setText] = useState('');\n  const [loading, setLoading] = useState(false);\n  async function sendMessage(message) {\n    setLoading(true);\n    setMessages(m => [...m, {\n      from: 'user',\n      text: message\n    }]);\n    try {\n      const res = await fetch('/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message\n        })\n      });\n\n      // Read raw text first, then try to parse JSON to avoid consuming the body twice\n      const raw = await res.text();\n      let j;\n      try {\n        j = JSON.parse(raw);\n      } catch (parseErr) {\n        j = {\n          response: raw\n        };\n      }\n      const reply = j.response || j.error || 'No response';\n      setMessages(m => [...m, {\n        from: 'bot',\n        text: reply\n      }]);\n    } catch (e) {\n      setMessages(m => [...m, {\n        from: 'bot',\n        text: 'Error: ' + String(e)\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!text.trim()) return;\n    sendMessage(text.trim());\n    setText('');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Tuition Assistant\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => sendMessage('Query tuition for student 123'),\n          children: \"Query Tuition\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => sendMessage('Show unpaid tuition for student 123'),\n          children: \"Unpaid Tuition\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => sendMessage('Pay tuition for student 123'),\n          children: \"Pay Tuition\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat\",\n        children: messages.map((m, i) => /*#__PURE__*/_jsxDEV(ChatBubble, {\n          msg: m\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"composer\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: text,\n        onChange: e => setText(e.target.value),\n        placeholder: \"Type a message or use the buttons above\",\n        disabled: loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"qwWwHElzH4huJ1F/mzDD0GpaVGU=\");\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChatBubble\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ChatBubble","msg","className","from","children","text","fileName","_jsxFileName","lineNumber","columnNumber","_c","App","_s","messages","setMessages","setText","loading","setLoading","sendMessage","message","m","res","fetch","method","headers","body","JSON","stringify","raw","j","parse","parseErr","response","reply","error","e","String","handleSubmit","preventDefault","trim","onClick","map","i","onSubmit","value","onChange","target","placeholder","disabled","type","_c2","$RefreshReg$"],"sources":["C:/Users/deniz/OneDrive/Desktop/projects/buyuk_olcek_midterm/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nfunction ChatBubble({msg}){\r\n  return (\r\n    <div className={\"bubble \" + (msg.from === 'user' ? 'user' : 'bot')}>\r\n      <div className=\"text\">{msg.text}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App(){\r\n  const [messages, setMessages] = useState([]);\r\n  const [text, setText] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function sendMessage(message){\r\n    setLoading(true);\r\n    setMessages((m)=>[...m, {from:'user', text:message}]);\r\n    try{\r\n      const res = await fetch('/chat', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ message }),\r\n      });\r\n\r\n      // Read raw text first, then try to parse JSON to avoid consuming the body twice\r\n      const raw = await res.text();\r\n      let j;\r\n      try{\r\n        j = JSON.parse(raw);\r\n      }catch(parseErr){\r\n        j = { response: raw };\r\n      }\r\n\r\n      const reply = j.response || j.error || 'No response';\r\n      setMessages((m)=>[...m, {from:'bot', text: reply}]);\r\n    }catch(e){\r\n      setMessages((m)=>[...m, {from:'bot', text: 'Error: ' + String(e)}]);\r\n    }finally{\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  function handleSubmit(e){\r\n    e.preventDefault();\r\n    if(!text.trim()) return;\r\n    sendMessage(text.trim());\r\n    setText('');\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <header>\r\n        <h1>Tuition Assistant</h1>\r\n        <div className=\"actions\">\r\n          <button onClick={() => sendMessage('Query tuition for student 123')}>\r\n            Query Tuition\r\n          </button>\r\n          <button onClick={() => sendMessage('Show unpaid tuition for student 123')}>\r\n            Unpaid Tuition\r\n          </button>\r\n          <button onClick={() => sendMessage('Pay tuition for student 123')}>\r\n            Pay Tuition\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <main>\r\n        <div className=\"chat\">\r\n          {messages.map((m, i) => (\r\n            <ChatBubble key={i} msg={m} />\r\n          ))}\r\n        </div>\r\n      </main>\r\n\r\n      <form className=\"composer\" onSubmit={handleSubmit}>\r\n        <input\r\n          value={text}\r\n          onChange={(e) => setText(e.target.value)}\r\n          placeholder=\"Type a message or use the buttons above\"\r\n          disabled={loading}\r\n        />\r\n        <button type=\"submit\" disabled={loading}>Send</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}